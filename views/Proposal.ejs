<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leave Proposal</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.3/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Sofia">
    <script src="https://kit.fontawesome.com/de38eb546a.js" crossorigin="anonymous"></script>
</head>

<style>
  body{
    overflow-y: hidden;
  }
  #name{
    font-size: 2rem;
  }
  #name-div{
    text-align: center;
    display: inline-block;
    float: inline-end;
    width:63rem;
    overflow-y: scroll;
    margin-left: 3.2rem;
    height:34.6rem;
    padding-bottom: 5rem;
     
  }
  #name-div-div{
    margin-top:5rem;
    overflow-y: scroll;
  }
  table {
        border-collapse: collapse;
        width: 100%;
      }

      th {
        background-color: #eee;
        text-align: left;
        font-weight: bold;
        padding: 10px;
      }

      td {
        border: 1px solid #ccc;
        padding: 10px;
        height:8rem;
      }

      tr:nth-child(even) {
        background-color: #f2f2f2;
      }
  #buttons-div .btn{
    background-color: rgb(36, 36, 129);
    color: aliceblue;
    font-size: 0.9rem;
    margin-left:0rem;
    margin-right:1.2rem;
    margin-top: 0.9rem;
    width:12rem;
  } 
  #nav-btn{
    background-color: rgb(36, 36, 129);
    color: aliceblue;
    font-size:0.9rem;
    margin-left:0rem;
    margin-right:0rem;
    width:12rem;
  }
  #buttons-div{
    padding-top:1rem;
    display: block;
    float: left;
    margin-top: -34rem;
    border-right:0.1rem solid black;
    height:34.6rem;
  }
  hr{
    height:0.03rem;  
    background-color: lightgray;
    width:70rem;
  }
</style>

<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="#">Admin Dashboard</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item" >
              <a  class="nav-link btn" id="nav-btn" href="/admin">Home</a>
            </li>&nbsp;&nbsp;
            <li class="nav-item">
              <a class="nav-link btn" id="nav-btn" href="/logout">Logout</a>
            </li>
          </ul>
        </div>
      </nav>

      <div id="name-div">
         
            <h5>Leave Proposals</h5>
            <div id="name-div-div"> 
            <table>
                <thead>
                    <tr>
                        <th>Request</th>
                        <th>Approval</th>
                    </tr>
                </thead>
                <tbody>
                    <% for(var i=0; i< l ;i++) {
                        %>
                    <tr>
                        <td><b><i><%= data[i].faculty %></i></b>&nbsp;:&nbsp;Requesting Leave On <%= data[i].ldate %> i.e., <%= data[i].lday %>&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-size: 0.8rem;">-<%= data[i].cdate %>&nbsp;<%= data[i].ctime %></span></td>
                        <td>
                          <form action="/grant" method="post">
                            <input name="faculty" type="hidden" value="<%= data[i].faculty %>">
                            <input name="ldate" type="hidden" value="<%= data[i].ldate %>">
                            <button type="submit"  class="btn btn-success <% if(data[i].gstatus == 2) { %>active<% } %>"
                              <% if(data[i].gstatus == 1) { %>disabled<% } %>
                              <% if(data[i].gstatus == 0) { %>active<% } %>>Grant</button>    
                          </form>
                           
                       &nbsp;&nbsp;
                       <form action="/deny" method="post">
                        <input name="faculty" type="hidden" value="<%= data[i].faculty %>">
                        <input name="ldate" type="hidden" value="<%= data[i].ldate %>">
                        <button type="submit"  class="btn btn-danger <% if(data[i].gstatus == 2) { %>active<% } %>"
                          <% if(data[i].gstatus == 1) { %>active<% } %>
                          <% if(data[i].gstatus == 0) { %>disabled<% } %>>Deny</button>    
                      </form>
                       </td>
                    </tr>
                    <% } %>
                </tbody>
            </table>
    </div>
      </div>
      <div id="buttons-div">
        <ul type="none">
            <li><a href="/display" class="btn">Display Timetable</a></li>
            <li><a href="/add" class="btn">Add To Timetable</a></li>
            <li><a href="/delete" class="btn">Delete From Timetable</a></li>
            <li><a href="/displayfaculty" class="btn">Display Faculty</a></li>
            <li><a href="/proposal" class="btn">Leave Proposal</a></li>
            <li><a href="/message" class="btn">Message</a></li>
        </ul>
      </div>
      
      
</body>
</html>